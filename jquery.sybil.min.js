(function(e,t){"use strict";function r(t,r){this.instance=t;this.$instance=e(t);this.config=e.extend({},n,r,this.$instance.data());this.images=this.config.images;this.count=this.config.images.length;this.currentSlide=0;this.current=this.$instance.find(this.config.currentSlide);this.next=this.$instance.find(this.config.nextSlide);if(this.count>1){this.setup()}return this}var n={speed:7500,animationSpeed:3e3,scrollPos:1.6,currentSlide:".current",nextSlide:".next",animationIn:"slideInLeft",animationOut:"slideOutRight",imageSize:"cover",scrollType:"vertical",navigation:false,fullscreen:true,onScroll:true,autoPlay:true,loop:true,onchange:"",images:[]};r.prototype.setup=function(){this.current.addClass(this.config.animationIn);this.current.css("background-size",this.config.imageSize);this.current.css("background-image","url("+this.images[0]+")");this.next.addClass("hidden");this.next.css("background-image",this.config.imageSize);this.next.css("background-image","url("+this.images[1]+")");var t=this.config.animationSpeed/1e3+"s";this.current.css("animation-duration",t);this.next.css("animation-duration",t);if(this.config.fullscreen){var n=e(window).height();this.current.css("height",n);this.next.css("height",n)}if(this.config.onScroll){this.watcher()}if(this.config.autoPlay){this.play()}};r.prototype.watcher=function(){var t=this.config.scrollType;var n=this.config.scrollPos;var r=this.current;var i=this.next;e(window).scroll(function(s){if(t=="vertical"){var s="center "+e(window).scrollTop()*n+"px"}else if(t=="horizontal"){var s="-"+e(window).scrollTop()*n+"px center"}r.css("background-position",s);i.css("background-position",s)});e(window).scroll()};r.prototype.play=function(){var e=this;this.timeoutID=setTimeout(function(){e.goTo("next")},this.config.speed)};r.prototype.goTo=function(e){if(e=="next"){e=this.currentSlide+1}if(e>=this.count){e=this.config.loop?0:this.count-1}if(e!=this.currentSlide){this.nextSlide=e;this.slide()}if(!this.config.loop&&e==this.count){this.stop()}this.play();if(this.config.onchange){this.config.onchange.call(this,this.slide)}};r.prototype.slide=function(){if(this.config.speed<this.config.animationSpeed){this.config.speed=this.config.animationSpeed}this.nextAnimation();this.currentAnimation();this.reset()};r.prototype.nextAnimation=function(){this.next.addClass(this.config.animationIn);this.next.css("background-size",this.config.imageSize);this.next.css("background-image","url("+this.images[this.nextSlide]+")");this.current.addClass(this.config.animationOut)};r.prototype.currentAnimation=function(){var e=this;setTimeout(function(){e.current.css("background-image","url("+e.images[e.nextSlide]+")");e.current.removeClass(e.config.animationOut);e.next.removeClass(e.config.animationIn)},this.config.animationSpeed)};r.prototype.stop=function(){this.paused=true;clearTimeout(this.timeoutID)};r.prototype.reset=function(){this.currentSlide=this.nextSlide;if(this.currentSlide==1){this.current.removeClass(this.config.animationIn);this.next.removeClass("hidden")}};e.fn.extend({sybil:function(t){return this.each(function(){if(!e.data(this,"sybil")){e.data(this,"sybil",new r(this,t))}})}})})(jQuery)